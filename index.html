<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Localizing Your iOS 5+ App</title>

	<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
	<meta name="author" content="Nia Mutiara">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="stylesheet" href="css/reveal.min.css">
	<link rel="stylesheet" href="css/theme/default.css" id="theme">

	<!-- For syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- If the query includes 'print-pdf', use the PDF print sheet -->
	<script>
		document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
	</script>

	<!--[if lt IE 9]>
	<script src="lib/js/html5shiv.js"></script>
	<![endif]-->
</head>

<body>
<!-- shortcuts: b, esc -->

	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">

			<section>
				<h1>Localizing Your iOS Apps</h1>
				<h2>iOS 5+</h2>
				<p><small>Presented by <a href="http://catcyb.org">Nia</a> / <a href="http://twitter.com/NiaMutiara">@NiaMutiara</a></small></p>
			</section>

  		<section>
  			<h1>Hello!</h1>
		    <h2>I am Nia. Great to See You!</h2>
  		</section>

      <section>
        <h2>I'm gonna talk about...</h2>
        <ol>
          <li class="fragment roll-in">
            Localization Definition
            <br/>
            and how it's done outside iOS
          </li>
          <li class="fragment roll-in">
            Why Support iOS 5+
          </li>
          <li class="fragment roll-in">
            Ways to Localize iOS Apps
            <ul>
              <li>Cloning. Not Really.</li>
              <li>Using XCode</li>
              <li>Using XCode + Scripts</li>
            </ul>
          </li>
          <li class="fragment roll-in">
            Q&A
          </li>
        </ol>
      </section>

      <section>
        <section>
          <h1>Definition</h1>
        </section>

        <section>
          <h2>Internationalization & Localization</h2>
          <p>
            => means of adapting computer software to different languages, regional differences and technical requirements of a target market
          </p>
          <p>
            <a href="http://en.wikipedia.org/wiki/Internationalization_and_localization">http://en.wikipedia.org/wiki/Internationalization_and_localization</a>
          </p>
        </section>

        <section>
          <h2>Difference?</h2>
        </section>

        <section>
          <h2>In Theory...</h2>
        </section>

        <section>
          <h2>Internationalization</h2>
          <p>(I18n)</p>
          <p>=> the process to minimize engineering changes</p>

          <aside class="notes">
            the process of designing a software application so that it can be adapted to various languages and regions without engineering changes
          </aside>
        </section>

        <section>
          <h2>Localization</h2>
          <p>(L10n)</p>
          <p>=> after i18n, the process of adding locale-specific components and translating text</p>

          <aside class="notes">
            the process of adapting internationalized software for a specific region or language by adding locale-specific components and translating text
          </aside>
        </section>

        <section>
          <p>Locale => Language Code</p>
        </section>

        <section>
          <h2>In Practice...</h2>
          <ol>
            <li class="fragment roll-in">Rails => I18n</li>
            <li class="fragment roll-in">Apple Stuff => L10n & I18n</li>
            <li class="fragment roll-in">Android Stuff => L10n & I18n</li>
            <li class="fragment roll-in">Microsoft Stuff => Localizability (L12y), Globalization, etc.</li>
          </ol>
        </section>

        <section>
          <p>I18n & L10n seem to be used interchangeably...</p>
          <img src="img/rainbow.gif" class="fragment roll-in" />
        </section>

        <section>
          <p>Supporting Different Languages</p>
        </section>
      </section>

  		<section data-state="mint">
        <section>
          <h1>Why Support iOS 5?</h1>
          <p>Most People Upgraded to iOS 6</p>
        </section>

	      <section>
	        <h2>Existing Users</h2>
    			<p>
    				You love your app users so much that you don't want to leave 'em
    			</p>
          <img class="fragment roll-in" src="img/neverletyougo.jpg" />
	      </section>

	      <section>
	        <h2>Requirements</h2>
	      </section>

        <section>
          <h2>Starting new apps? Use iOS 6.</h2>
        </section>

        <section>
          <h2>Localization steps on iOS 6 ~ iOS 5</h2>
          <p>Just one slight critical difference</p>
        </section>
	    </section>

      <section data-state="soothe">
        <section>
          <h1>Ways to Localize iOS 5+ Apps</h1>
        </section>

        <section>
          <h2>Cloning</h2>
          <p>Not really localization.. but it works</p>
        </section>

        <section>
          <img src="img/groupon-clones.png" />
        </section>

        <section>
          <h2>Using XCode L10n Support</h2>
          <p class="fragment roll-in">Demo for Storyboards and *.m files</p>
        </section>

        <section>
          <p>You think it's easy...</p>
        </section>

        <section>
          <p>In Android</p>
          <img src="img/android_localization.png" />
          <p>you can reference strings everywhere (layout, codes, etc.).</p>
        </section>

        <section>
          <p>In Android (contd.)</p>
          <img src="img/android_strings.png" />
          <p>codes are auto-generated for these strings.</p>
        </section>

        <section>
          <p>In iOS, there's no code auto-generation</p>
          <p class="fragment roll-in">but we have build scripts.</p>
        </section>

        <section>
          <img src="img/jackie-chan.png" />
        </section>
      </section>

      <section>
        <section>
          <h1>Using XCode L10n Support + Scripts</h1>
        </section>

        <section>
          <p>There are no standard scripts...</p>
          <p class="fragment roll-in">Google for iOS Localization, and discover lots of options!</p>
        </section>

        <section>
          <p><a href="http://forums.macrumors.com/showthread.php?t=1467446" target="_blank">http://forums.macrumors.com/showthread.php?t=1467446</a></p>
          <img src="img/storyboard-localization.png" />
        </section>

        <section>
          <p>I created similar scripts...</p>
        </section>

        <section>
          <h3>You will need...</h3>
          <ul>
            <li class="fragment roll-in">XCode command line tools</li>
            <li class="fragment roll-in">Pressing "Localize" button<br/>on user interface files (XIB or Storyboard)</li>
            <li class="fragment roll-in">iconv</li>
            <li class="fragment roll-in">Ruby 1.9.3</li>
          </ul>
        </section>

        <section>
          <h2>3 Parts</h2>
          <ol>
            <li class="fragment roll-in">Preparing initial strings</li>
            <li class="fragment roll-in">Generate localized interfaces</li>
            <li class="fragment roll-in">Updating existing translations</li>
          </ol>
          <p class="fragment roll-in">Remember, we have user interface and *.m files!</p>
        </section>

        <section>
          <h2>Preparing Initial Strings</h2>
          <p>Generate English strings from Storyboards or XIB</p>
        </section>

        <section>
          <code data-trim contenteditable>
            ibtool --generate-strings-file \
            "en.lproj/MyStoryboard.strings" \
            "en.lproj/MyStoryboard.storyboard"
          </code>
          <br/><br/>
          <p>creates en.lproj/MyStoryboard.strings</p>
        </section>

        <section>
          <h2>Preparing Initial Strings (contd.)</h2>
          <p>Generate English strings from *.m files</p>
        </section>

        <section>
          <code data-trim contenteditable>
            find . -name \*.m | xargs genstrings -o \
            "path/to/codes"
          </code>
          <br/><br/>
          <p>creates Localizable.strings</p>
        </section>

        <section>
          <h2>Generate Localized Interfaces</h2>
          <p>From Base (English) user interfaces and localized strings to localized user interfaces</p>
        </section>

        <section>
          <code data-trim contenteditable>
            ibtool --strings-file \
            "id.lproj/MyStoryboard.strings" --write \
            "id.lproj/MyStoryboard.storyboard" \
            "en.lproj/MyStoryboard.storyboard"
          </code>
          <br/><br/>
          <p>creates id.lproj/MyStoryboard.storyboard from id strings and en storyboard</p>
        </section>

        <section>
          <h2>Updating Existing Strings</h2>
          <p class="fragment roll-in">This is tricky!</p>
        </section>

        <section>
          <h2>Updating Existing Strings (contd.)</h2>
          <ol>
            <li>Check if a file is already localized</li>
            <li>Patch newly added strings to the file's strings file</li>
          </ol>
        </section>

        <section>
          <h3>Check if a file is already localized</h3>
          <p>Look for en.lproj</p>
        </section>

        <section>
          <h3>Patch newly added strings to the file's strings file</h3>
          <p>I thought Git Could Help...</p>
          <code data-trim contenteditable>
            git diff some.strings | git apply
          </code>
        </section>

        <section>
          <p>But *.strings files are not just regular text files. They're encoded as...</p>
          <h1 class="fragment roll-in">UTF-16LE</h1>
          <p class="fragment roll-in">Git sees that as a binary!</p>
        </section>

        <section>
          <h2>Use iconv to convert between UTF-16LE and UTF-8 encodings</h2>
          <code data-trim contenteditable>
            iconv -f UTF-16LE -t UTF-8 \
            id.lproj/MyStoryboard.strings > \
            id.lproj/MyStoryboard.strings-utf8
          </code><br/><br/>
          <p class="fragment roll-in">Using Git => Complicated</p>
        </section>

        <section>
          <p>Also, we only want to compare string keys, not the lines.</p>
          <img class="fragment roll-in" src="img/compare-string-keys.png" />
        </section>

        <section>
          <h3>Patch newly added strings to the file's strings file</h3>
          <ol>
            <li>Convert old and new *.strings file to UTF-8</li>
            <li>Compare them, and patch the new string keys to the old one</li>
            <li>Convert the old *.strings file back to UTF-16LE</li>
          </ol>
        </section>

        <section>
          <h3>"Convert the old *.strings file back to UTF-16LE"</h3>
          <p class="fragment roll-in">=> corruption due to line endings, but the file is still readable.</p>
          <p class="fragment roll-in">=> selecting all, cutting and pasting solve the problem</p>
        </section>
      </section>

      <section>
        <h1>Putting the Scripts Together</h1>
        <p><a href="https://github.com/nmutiara/iOS-L10n-Scripts">https://github.com/nmutiara/iOS-L10n-Scripts</a></p>
      </section>

      <section data-state="soothe">
        <section>
          <h1>Thank You!</h1>
        </section>

				<section>
					<h1>Q&A</h1>
          <p>Twitter: @NiaMutiara</p>
				</section>
      </section>

		</div> <!-- End of #slides -->
	</div>

	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.min.js"></script>

	<script>

		// Full list of configuration options available here:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			theme: 'beige', // available themes are in /css/theme
			transition: 'concave', // default/cube/page/concave/zoom/linear/fade/none

			// Optional libraries used to extend on reveal.js
			dependencies: [
				{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
				{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
				// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
			]
		});

	</script>

</body>
</html>
